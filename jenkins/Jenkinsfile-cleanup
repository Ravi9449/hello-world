#!groovy

properties([
    parameters([
        [$class: 'ChoiceParameter',
            choiceType: 'PT_CHECKBOX',
            name: 'CHECK',
            script: [
                $class: 'GroovyScript',
                script: [
                    script:
                    '''
                        import static groovy.io.FileType.DIRECTORIES
                        def list = []
                        new File('/Users/ravi/Desktop/J/SAP').eachFileRecurse (DIRECTORIES) { file ->
                            list << file.name
                        }
                        return list
                    '''
                ]
            ]]
    ])
])
pipeline {
   agent any
   
   
   stages {
      stage('Stage1'){
         steps{
            script{
                echo "${params.CHECK}"
                //sh "cd /Users/ravi/Desktop/J/SAP && rm -rf ${params.CHECK}"
                // for(def sub : params.CHECK.split(',')) {
                //     echo "${params.sub}"
                // }
                str = env.CHECK.split(',')
                for (String values :str)
                sh "cd /Users/ravi/Desktop/J/SAP && rm -rf $values"
            }
         }
      }

   } 
}
